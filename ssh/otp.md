---
title: One Time Password (OTP) 
description: How to setup OTP to enable two-factor authentication (2FA)
published: true
date: 2020-03-03T20:51:05.219Z
tags: 
---

# Two-step Authentication
Two-step authentication adds extra security by making it harder for someone else to log in to your account, especially if they steal your password.

When you enable two-step authentication, when someone attempts to log in to your account with your password, Rostam will also ask for a verification code from an authentication application for proof that itâ€™s really you.

All LSU services are required to enroll in multi-factor authentication. To comply with the enrollment, Rostam cluster enables the two-step authentication by default. It is your responsiblity to setup your OTP properly.

## How do I enable two-step authentication?

The best way to in enable 2FA is to use your smart phone and install a third-party code generator app. You can also install some of these apps on your desktop.

### Requirement
Before you get started, download one of the following authentication applications.
- Authy 2-Factor Authentication
  - [Windows, MacOS](https://authy.com/download/)
  - [Android](https://play.google.com/store/apps/details?id=com.authy.authy)
  - [iOS](https://itunes.apple.com/us/app/authy/id494168017?mt=8)
- Google Authenticator
  - [Android](https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2)
  - [iOS](https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8)
- Duo Mobile
  - [Android](https://play.google.com/store/apps/details?id=com.duosecurity.duomobile&hl=en)
  - [iOS](https://itunes.apple.com/us/app/duo-mobile/id422663827?mt=8)
- FreeOTP
  - [Android](https://play.google.com/store/apps/details?id=org.fedorahosted.freeotp)
  - [iOS](https://itunes.apple.com/us/app/freeotp-authenticator/id872559395?mt=8)
- andOTP (Android only)
  - [Google Play](https://play.google.com/store/apps/details?id=org.shadowice.flocke.andotp)
  - [GitHub](https://github.com/andOTP/andOTP/releases)
  - [F-Droid](https://f-droid.org/en/packages/org.shadowice.flocke.andotp)
- KeepassXC
  - [Linux](https://keepassxc.org/download/#linux)
  - [MacOS](https://keepassxc.org/download/#mac)
  - [Windows](https://keepassxc.org/download/#windows)
  
### Setup
The follow these steps to set up two-step authentication on Rostam:

* Login to Rostam with your username and password.  
> You may be requiret to re-new your password it it is your first login.{.is-info}
* Obtain a Kerberos ticket by running `kinit`  
In order to interact with underlying Identity Management system (IdM) in Rostam you should have a valid Kerberos ticket.
```bash
[user@rostam0 ~]$ kinit 
Password for user@ROSTAM.CCT.LSU.EDU: 
[user@rostam0 ~]$
```
* Optionally, to verify that the login was successful, use the `klist` utility to display the cached TGT.
```bash
[user@rostam0 ~]$ klist 
Ticket cache: KCM:868800001:39355
Default principal: user@ROSTAM.CCT.LSU.EDU

Valid starting       Expires              Service principal
03/02/2020 20:46:43  03/03/2020 20:46:39  krbtgt/ROSTAM.CCT.LSU.EDU@ROSTAM.CCT.LSU.EDU
```
* Now create an OTP Token by running `ipa otptoken-add`
```bash
[user@rostam0 ~]$ ipa otptoken-add
------------------
Added OTP token ""
------------------
  Unique ID: 9c028253-5d55-4b23-8d1a-131bdc78e3fa
  Type: TOTP
  Owner: user
  Manager: user
  Algorithm: sha1
  Digits: 6
  Clock interval: 30
  URI: otpauth://totp/user@ROSTAM.CCT.LSU.EDU:9c028253-5d55-4b23-8d1a ...
```
> You may see the warning:  
_ipa: WARNING: QR code width is greater than that of the output tty. Please resize your terminal._  
In that case do exactly what it says.{.is-info}
* A QR code will be displayed on your screen, import the key into the app you installed before. On the next login you will be asked for second step to login. Enter the code generated by the app into prompt screen.